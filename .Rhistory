View(calib_comparison_state)
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
# CHECK -> Compute catch weights based on calibration data, compare to MRIP query site
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
calib_comparison <- calib_comparison %>%
dplyr::mutate(
keep_weightavg = avg_wt_harv * model_keep,
release_weightavg = avg_wt_rel * model_rel)
calib_comparison_mode <- calib_comparison %>%
dplyr::group_by(state, species, mode) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(model_keep),
mean_release_n=mean(model_rel)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison %>%
dplyr::group_by(state, species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison_state %>%
dplyr::group_by(state, species) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(keep_n),
mean_release_n=mean(release_n)) %>%
dplyr::ungroup()
(190349.99013-176194)/176194
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds"))
View(calib_comparison)
ls(calib_comparison)
# CHECK -> Compute catch weights based on calibration data, compare to MRIP query site
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel, MRIP_keep, MRIP_rel, diff_keep, diff_rel, pct_diff_keep, pct_diff_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
mean(calib_comparison$pct_diff_keep)
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel, MRIP_keep, MRIP_rel, diff_keep, diff_rel, pct_diff_keep, pct_diff_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
calib_comparison <- calib_comparison %>%
dplyr::mutate(
keep_weightavg = avg_wt_harv * model_keep,
release_weightavg = avg_wt_rel * model_rel,
mrip_keep_weightavg = avg_wt_harv * MRIP_keep,
mrip_release_weightavg = avg_wt_rel * MRIP_rel)
calib_comparison_mode <- calib_comparison %>%
dplyr::group_by(state, species, mode) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(model_keep),
mean_release_n=mean(model_rel),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison %>%
dplyr::group_by(state, species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel),
mrip_keep_weightavg=sum(mrip_keep_weightavg),
mrip_release_weightavg=sum(mrip_release_weightavg),
mrip_keep_n=sum(MRIP_keep),
mrip_release_n=sum(MRIP_rel)) %>%
dplyr::ungroup()
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel, MRIP_keep, MRIP_rel, diff_keep, diff_rel, pct_diff_keep, pct_diff_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
calib_comparison <- calib_comparison %>%
dplyr::mutate(
keep_weightavg = avg_wt_harv * model_keep,
release_weightavg = avg_wt_rel * model_rel,
mrip_keep_weightavg = avg_wt_harv * MRIP_keep,
mrip_release_weightavg = avg_wt_rel * MRIP_rel)
calib_comparison_mode <- calib_comparison %>%
dplyr::group_by(state, species, mode) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(model_keep),
mean_release_n=mean(model_rel),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison %>%
dplyr::group_by(state, species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel),
mrip_keep_weightavg=sum(mrip_keep_weightavg),
mrip_release_weightavg=sum(mrip_release_weightavg),
mrip_keep_n=sum(MRIP_keep),
mrip_release_n=sum(MRIP_rel)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison_state %>%
dplyr::group_by(state, species) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(keep_n),
mean_release_n=mean(release_n),
mean_mrip_keep_n=sum(mrip_keep_n),
mean_mrip_release_n=sum(mrip_release_n),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
View(output)
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output<-output %>%
dplyr::filter(metric %in% c("keep_numbers", "release_numbers", "discmort_number")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
output <- output %>%
dplyr::mutate(
keep_weightavg = case_when(
metric == "keep_numbers"    ~ avg_wt_harv * value,
TRUE ~ NA_real_
),
release_weightavg = case_when(
metric == "release_numbers" ~ avg_wt_rel * value,
TRUE ~ NA_real_
),
discmort_weightavg = case_when(
metric == "discmort_number" ~ avg_wt_rel * value,
TRUE ~ NA_real_
)
)
output <- output %>%
dplyr::mutate(
keep_weightavg     = ifelse(is.na(keep_weightavg), 0, keep_weightavg),
release_weightavg  = ifelse(is.na(release_weightavg), 0, release_weightavg),
discmort_weightavg = ifelse(is.na(discmort_weightavg), 0, discmort_weightavg)
)
# catch weights by mode
output_long <- output %>%
dplyr::select(-metric, -avg_wt_harv, -avg_wt_rel, -value) %>%
tidyr::pivot_longer(
cols = c(keep_weightavg, release_weightavg, discmort_weightavg),
names_to = "metric",
values_to = "value"
)
data.table::setDT(output_long)
# catch weights over all modes
output_long_summed <- output_long[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
output_long_summed$mode<-"all modes"
# combine mode-specific and aggregate catch weights
catch_weights_SQ<-rbindlist(list(output_long_summed, output_long), use.names = TRUE,  fill = TRUE)
View(catch_weights_SQ)
output_wts<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
View(output_wts)
output_wts<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output_wts<-output_wts %>%
dplyr::filter(metric %in% c("keep_weight", "release_weight")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
output_wts<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output_wts<-output_wts %>%
dplyr::filter(metric %in% c("keep_weight", "release_weight")) %>%
dplyr::filter(mode !="all modes")
output_wts<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output_wts<-output_wts %>%
dplyr::filter(metric %in% c("keep_weight", "release_weight")) %>%
dplyr::filter(mode !="all modes")
# catch weights by mode
output_wts_long <- output_wts %>%
tidyr::pivot_longer(
cols = c(keep_weight, release_weight),
names_to = "metric",
values_to = "value"
)
output_wts<-output_wts %>%
dplyr::filter(metric %in% c("keep_weight", "release_weight")) %>%
dplyr::filter(mode !="all modes")
data.table::setDT(output_wts)
# catch weights over all modes
output_wts_summed <- output_wts[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
View(output_wts_summed)
output_wts_summed$mode<-"all modes"
catch_weights_equ_SQ<-rbindlist(list(output_wts_summed, output_wts), use.names = TRUE,  fill = TRUE)
View(catch_weights_equ_SQ)
# This file compute total projected harvest/discard weights under under status-quo regulations,
# using data on average weight per harvested and discarded fish.
# Pull in the weights file and model output file
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output<-output %>%
dplyr::filter(metric %in% c("keep_numbers", "release_numbers", "discmort_number")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
output <- output %>%
dplyr::mutate(
keep_weightavg = case_when(
metric == "keep_numbers"    ~ avg_wt_harv * value,
TRUE ~ NA_real_
),
release_weightavg = case_when(
metric == "release_numbers" ~ avg_wt_rel * value,
TRUE ~ NA_real_
),
discmort_weightavg = case_when(
metric == "discmort_number" ~ avg_wt_rel * value,
TRUE ~ NA_real_
)
)
output <- output %>%
dplyr::mutate(
keep_weightavg     = ifelse(is.na(keep_weightavg), 0, keep_weightavg),
release_weightavg  = ifelse(is.na(release_weightavg), 0, release_weightavg),
discmort_weightavg = ifelse(is.na(discmort_weightavg), 0, discmort_weightavg)
)
# catch weights by mode
output_long <- output %>%
dplyr::select(-metric, -avg_wt_harv, -avg_wt_rel, -value) %>%
tidyr::pivot_longer(
cols = c(keep_weightavg, release_weightavg, discmort_weightavg),
names_to = "metric",
values_to = "value"
)
data.table::setDT(output_long)
# catch weights over all modes
output_long_summed <- output_long[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
output_long_summed$mode<-"all modes"
# combine mode-specific and aggregate catch weights
catch_weights_SQ<-rbindlist(list(output_long_summed, output_long), use.names = TRUE,  fill = TRUE)
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
output<-output %>%
dplyr::filter(metric %in% c("keep_numbers", "release_numbers", "discmort_number")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
output <- output %>%
dplyr::mutate(
keep_weightavg = case_when(
metric == "keep_numbers"    ~ avg_wt_harv * value,
TRUE ~ NA_real_
),
release_weightavg = case_when(
metric == "release_numbers" ~ avg_wt_rel * value,
TRUE ~ NA_real_
),
discmort_weightavg = case_when(
metric == "discmort_number" ~ avg_wt_rel * value,
TRUE ~ NA_real_
)
)
output <- output %>%
dplyr::mutate(
keep_weightavg     = ifelse(is.na(keep_weightavg), 0, keep_weightavg),
release_weightavg  = ifelse(is.na(release_weightavg), 0, release_weightavg),
discmort_weightavg = ifelse(is.na(discmort_weightavg), 0, discmort_weightavg)
)
# catch weights by mode
output_long <- output %>%
dplyr::select(-metric, -avg_wt_harv, -avg_wt_rel, -value) %>%
tidyr::pivot_longer(
cols = c(keep_weightavg, release_weightavg, discmort_weightavg),
names_to = "metric",
values_to = "value"
)
data.table::setDT(output_long)
# catch weights over all modes
output_long_summed <- output_long[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
output_long_summed$mode<-"all modes"
View(output_long_summed)
output_long_summed2 <- output_long_summed[, .(
value = sum(value)
), by = .(species, draw, metric)]
View(output_long_summed2)
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel, MRIP_keep, MRIP_rel, diff_keep, diff_rel, pct_diff_keep, pct_diff_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
calib_comparison <- calib_comparison %>%
dplyr::mutate(
keep_weightavg = avg_wt_harv * model_keep,
release_weightavg = avg_wt_rel * model_rel,
mrip_keep_weightavg = avg_wt_harv * MRIP_keep,
mrip_release_weightavg = avg_wt_rel * MRIP_rel)
View(calib_comparison)
calib_comparison_coast <- calib_comparison %>%
dplyr::group_by(species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel),
mrip_keep_weightavg=sum(mrip_keep_weightavg),
mrip_release_weightavg=sum(mrip_release_weightavg),
mrip_keep_n=sum(MRIP_keep),
mrip_release_n=sum(MRIP_rel)) %>%
dplyr::ungroup()
calib_comparison_coast <- calib_comparison_coast %>%
dplyr::group_by( species) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(keep_n),
mean_release_n=mean(release_n),
mean_mrip_keep_n=sum(mrip_keep_n),
mean_mrip_release_n=sum(mrip_release_n),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
View(calib_comparison_coast)
283126	+210889	+34296	+176194+2,336685+1,879550+256598+320208
283126	+210889	+34296	+176194+2336685+1879550+256598+320208
View(calib_comparison_state)
(5458685-5497546)/5497546
1107401+56+214+1250646+103449+6076103+83+2459920+38
(11067817-10997910)/10997910
493979+130995+205481+755312+1604438+1514163	+159652+602637+124685
(5707560-5591342)/5591342
View(output)
View(catch_weights_SQ)
# This file compute total projected harvest/discard weights under under status-quo regulations,
# using data on average weight per harvested and discarded fish.
# Pull in the weights file and model SQ output file
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
SQ_output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
SQ_output<-SQ_output %>%
dplyr::filter(metric %in% c("keep_numbers", "release_numbers", "discmort_number")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
SQ_output <- SQ_output %>%
dplyr::mutate(
keep_weightavg = case_when(
metric == "keep_numbers"    ~ avg_wt_harv * value,
TRUE ~ NA_real_
),
release_weightavg = case_when(
metric == "release_numbers" ~ avg_wt_rel * value,
TRUE ~ NA_real_
),
discmort_weightavg = case_when(
metric == "discmort_number" ~ avg_wt_rel * value,
TRUE ~ NA_real_
)
)
SQ_output <- SQ_output %>%
dplyr::mutate(
keep_weightavg     = ifelse(is.na(keep_weightavg), 0, keep_weightavg),
release_weightavg  = ifelse(is.na(release_weightavg), 0, release_weightavg),
discmort_weightavg = ifelse(is.na(discmort_weightavg), 0, discmort_weightavg)
)
# catch weights by mode
SQ_output_long <- SQ_output %>%
dplyr::select(-metric, -avg_wt_harv, -avg_wt_rel, -value) %>%
tidyr::pivot_longer(
cols = c(keep_weightavg, release_weightavg, discmort_weightavg),
names_to = "metric",
values_to = "value"
)
data.table::setDT(SQ_output_long)
# catch weights over all modes
SQ_output_long_summed <- SQ_output_long[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
SQ_output_long$mode<-"all modes"
# combine mode-specific and aggregate catch weights
catch_weights_SQ<-rbindlist(list(SQ_output_long_summed, SQ_output_long), use.names = TRUE,  fill = TRUE)
View(catch_weights_SQ)
# Pull in the weights file and model SQ output file
wts<-read_excel("C:/Users/andrew.carr-harris/Desktop/MRIP_data_2025/SQ_weight_per_catch.xlsx")
SQ_output<-read_csv("E:/Lou's projects/flukeRDM/flukeRDM_iterative_data/test_output1.csv", show_col_types = FALSE)
SQ_output<-SQ_output %>%
dplyr::filter(metric %in% c("keep_numbers", "release_numbers", "discmort_number")) %>%
dplyr::filter(mode !="all modes") %>%
dplyr::left_join(wts, by=c("species", "mode", "state"))
SQ_output <- SQ_output %>%
dplyr::mutate(
keep_weightavg = case_when(
metric == "keep_numbers"    ~ avg_wt_harv * value,
TRUE ~ NA_real_
),
release_weightavg = case_when(
metric == "release_numbers" ~ avg_wt_rel * value,
TRUE ~ NA_real_
),
discmort_weightavg = case_when(
metric == "discmort_number" ~ avg_wt_rel * value,
TRUE ~ NA_real_
)
)
View(SQ_output)
SQ_output <- SQ_output %>%
dplyr::mutate(
keep_weightavg     = ifelse(is.na(keep_weightavg), 0, keep_weightavg),
release_weightavg  = ifelse(is.na(release_weightavg), 0, release_weightavg),
discmort_weightavg = ifelse(is.na(discmort_weightavg), 0, discmort_weightavg)
)
# catch weights by mode
SQ_output_long <- SQ_output %>%
dplyr::select(-metric, -avg_wt_harv, -avg_wt_rel, -value) %>%
tidyr::pivot_longer(
cols = c(keep_weightavg, release_weightavg, discmort_weightavg),
names_to = "metric",
values_to = "value"
)
data.table::setDT(SQ_output_long)
View(SQ_output_long)
# catch weights over all modes
SQ_output_long_summed <- SQ_output_long[, .(
value = sum(value)
), by = .(state, species, draw, metric)]
View(SQ_output_long_summed)
SQ_output_long_summed$mode<-"all modes"
catch_weights_SQ<-rbindlist(list(SQ_output_long_summed, SQ_output_long), use.names = TRUE,  fill = TRUE)
View(catch_weights_SQ)
View(catch_weights_SQ)
calib_comparison<-readRDS(file.path(iterative_input_data_cd, "calibrated_model_stats_new.rds")) %>%
dplyr::select(state, draw, species, mode, model_keep, model_rel, MRIP_keep, MRIP_rel, diff_keep, diff_rel, pct_diff_keep, pct_diff_rel) %>%
dplyr::left_join(wts, by=c("species", "mode", "state") )
calib_comparison <- calib_comparison %>%
dplyr::mutate(
keep_weightavg = avg_wt_harv * model_keep,
release_weightavg = avg_wt_rel * model_rel,
mrip_keep_weightavg = avg_wt_harv * MRIP_keep,
mrip_release_weightavg = avg_wt_rel * MRIP_rel)
calib_comparison_mode <- calib_comparison %>%
dplyr::group_by(state, species, mode) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(model_keep),
mean_release_n=mean(model_rel),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison %>%
dplyr::group_by(state, species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel),
mrip_keep_weightavg=sum(mrip_keep_weightavg),
mrip_release_weightavg=sum(mrip_release_weightavg),
mrip_keep_n=sum(MRIP_keep),
mrip_release_n=sum(MRIP_rel)) %>%
dplyr::ungroup()
calib_comparison_state <- calib_comparison_state %>%
dplyr::group_by(state, species) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(keep_n),
mean_release_n=mean(release_n),
mean_mrip_keep_n=sum(mrip_keep_n),
mean_mrip_release_n=sum(mrip_release_n),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
# catch weights over all states
calib_comparison_coast <- calib_comparison %>%
dplyr::group_by(species, draw) %>%
dplyr::summarise(keep_weightavg=sum(keep_weightavg),
release_weightavg=sum(release_weightavg),
keep_n=sum(model_keep),
release_n=sum(model_rel),
mrip_keep_weightavg=sum(mrip_keep_weightavg),
mrip_release_weightavg=sum(mrip_release_weightavg),
mrip_keep_n=sum(MRIP_keep),
mrip_release_n=sum(MRIP_rel)) %>%
dplyr::ungroup()
calib_comparison_coast <- calib_comparison_coast %>%
dplyr::group_by( species) %>%
dplyr::summarise(mean_keep_weightavg=mean(keep_weightavg),
mean_release_weightavg=mean(release_weightavg),
sd_keep_weightavg=sd(keep_weightavg),
sd_release_weightavg=sd(release_weightavg),
mean_keep_n=mean(keep_n),
mean_release_n=mean(release_n),
mean_mrip_keep_n=sum(mrip_keep_n),
mean_mrip_release_n=sum(mrip_release_n),
mean_mrip_keep_weightavg=mean(mrip_keep_weightavg),
mean_mrip_release_weightavg=mean(mrip_release_weightavg)) %>%
dplyr::ungroup()
View(calib_comparison_coast)
calib_comparison_coast<-calib_comparison_coast %>%
dplyr::mutate(model_release_mt=mean_release_weightavg/2204,
mrip_release_mt=mean_mrip_release_weightavg/2204)
View(calib_comparison_coast)
View(catch_weights_SQ)
# combine mode-specific and aggregate catch weights
catch_weights_SQ<-rbindlist(list(SQ_output_long_summed, SQ_output_long), use.names = TRUE,  fill = TRUE)
catch_weights_SQ<-catch_weights_SQ %>%
dplyr::mutate(value=value/2204) #convert pounds to metric tons
View(catch_weights_SQ)
